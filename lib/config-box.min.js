/*! config-box v2.5.1 | Copyright (c) 2023 jlongyam | MIT License | https://github.com/jlongyam/config-box */
class ConfigBox{constructor(t,e=!1){this.title=t||"CONFIG",this.mouse=e}#a={};#b(){let t=createElement("div",{classList:"config-box",draggable:"true"}),e=createElement("div",{classList:"config-box_head"}),s=createElement("span",{classList:"config-box_title",textContent:this.title}),i=createElement("span",{classList:"config-box_close"}),o=createElement("div",{classList:"config-box_body"});document.body.appendChild(t),t.appendChild(e),e.appendChild(s),e.appendChild(i),t.appendChild(o),this.#a.root=t,this.#a.head=e,this.#a.title=s,this.#a.close=i,this.#a.body=o}#c(l=!1){if(l)this.#a.root.style.width="fit-content",this.#a.root.style.height="fit-content";else{let n=getComputedStyle(this.#a.root).getPropertyValue("width"),a=getComputedStyle(this.#a.root).getPropertyValue("height");this.#a.root.style.width=n,this.#a.root.style.height=a}}#d(){this.mouse?(dragMouse(document.body,this.#a.root,{drag:t=>this.#c()}),this.#a.close.addEventListener("click",()=>this.#a.root.remove())):(window.addEventListener("dragover",t=>t.preventDefault(),!1),this.#a.root.addEventListener("drag",t=>{t.target.style.left=t.clientX+"px",t.target.style.top=t.clientY+"px",t.target.style.visibility="hidden"}),this.#a.root.addEventListener("dragend",t=>t.target.style.visibility="visible"),this.#a.close.addEventListener("click",()=>this.#a.root.remove()))}createText(t="LABEL"){let e=createElement("div",{classList:"config-box_field"}),s=createElement("span",{classList:"config-box_text",textContent:t});e.appendChild(s),this.#a.body.appendChild(e)}createAction(t,e){let s=createElement("div",{classList:"config-box_field"}),i=createElement("span",{classList:"config-box_action",textContent:t});s.appendChild(i),this.#a.body.appendChild(s),i.addEventListener("click",e),this.#c(!0)}inputValue="";createInput(t){let e=createElement("div",{classList:"config-box_field"}),s=createElement("span",{classList:"config-box_input",contentEditable:"true",spellcheck:"false"});e.appendChild(s),this.#a.body.appendChild(e),"keyboard"in navigator&&"lock"in navigator.keyboard&&s.addEventListener("keydown",e=>{"Enter"===e.code&&e.preventDefault(),t&&t(e.code,s.innerHTML),this.inputValue=s.innerHTML})}start(){this.#b(),this.#d()}setPosition(t={left:"100px",top:"100px",right:"auto",bottom:"auto"},e=!1){this.#a.root.style.left=t.left,this.#a.root.style.top=t.top,this.#a.root.style.right=t.right,this.#a.root.style.bottom=t.bottom,this.#c(),e&&this.#a.root.removeAttribute("draggable")}get body(){return this.#a.body}}class ConfigChoose{constructor(t){this.parent=t}chooses=[];#e={one:!1,two:!0,three:!1};#f="";#g=!1;create(t){let e=createElement("div",{classList:"config-box_field"}),s=createElement("div",{classList:"config-box_choose"});e.appendChild(s),this.#e.forEach((e,i)=>{let o=createElement("span",{classList:"config-box_choose-item",textContent:i});s.appendChild(o),e&&(o.classList.add("active"),this.chooses.push(i)),o.addEventListener("click",()=>{if(o.classList.toggle("active"),o.classList.contains("active"))this.chooses.includes(i)||this.chooses.push(i),this.#g=!0;else{let e=this.chooses.indexOf(i);this.chooses.splice(e,1),this.#g=!1}this.#f=i,t&&t(this.#f,this.#g)})}),this.parent.appendChild(e)}set value(t){this.#e=t}get value(){return this.#e}}class ConfigSwitch{constructor(t){this.parent=t}#e={one:!1,two:!0,three:!1};#f="";create(t){let e=createElement("div",{classList:"config-box_field"}),s=createElement("div",{classList:"config-box_switch"});e.appendChild(s);let i=s.children,o=t=>{i.forEach(e=>{e!=t&&(e.classList.remove("active"),this.#e[e.textContent]=!1)})};this.#e.forEach((e,i)=>{let l=createElement("span",{classList:"config-box_switch-item",textContent:i});s.appendChild(l),e&&l.classList.toggle("active"),l.addEventListener("click",()=>{l.classList.contains("active")||(l.classList.toggle("active"),this.#e[i]=!0),o(l),this.#f=i,t&&t(this.#f)})}),this.parent.appendChild(e)}set value(t){this.#e=t}get value(){return this.#e}}
