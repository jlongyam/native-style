/*! Copyright (c) 2023 jlongyam MIT License | https://github.com/jlongyam/config-box */
class ConfigBox{constructor(e){this.title=e||"CONFIG"}#e={};#t(){let e=createElement("div",{classList:"config-box",draggable:"true"}),t=createElement("div",{classList:"config-box_head"}),i=createElement("span",{classList:"config-box_title",textContent:this.title}),s=createElement("span",{classList:"config-box_close"}),o=createElement("div",{classList:"config-box_body"});document.body.appendChild(e),e.appendChild(t),t.appendChild(i),t.appendChild(s),e.appendChild(o),this.#e.root=e,this.#e.head=t,this.#e.title=i,this.#e.close=s,this.#e.body=o}#i(){window.addEventListener("dragover",(e=>e.preventDefault()),!1),this.#e.root.addEventListener("drag",(e=>{e.target.style.left=e.clientX+"px",e.target.style.top=e.clientY+"px",e.target.style.visibility="hidden"})),this.#e.root.addEventListener("dragend",(e=>e.target.style.visibility="visible")),this.#e.close.addEventListener("click",(()=>this.#e.root.remove()))}createText(e="LABEL"){let t=createElement("div",{classList:"config-box_field"}),i=createElement("span",{classList:"config-box_text",textContent:e});t.appendChild(i),this.#e.body.appendChild(t)}createAction(e,t){let i=createElement("div",{classList:"config-box_field"}),s=createElement("span",{classList:"config-box_action",textContent:e});i.appendChild(s),this.#e.body.appendChild(i),s.addEventListener("click",t)}inputValue="";createInput(e){let t=createElement("div",{classList:"config-box_field"}),i=createElement("span",{classList:"config-box_input",contentEditable:"true",spellcheck:"false"});t.appendChild(i),this.#e.body.appendChild(t),"keyboard"in navigator&&"lock"in navigator.keyboard&&i.addEventListener("keydown",(t=>{"Enter"===t.code&&t.preventDefault(),e&&e(t.code,i.innerHTML),this.inputValue=i.innerHTML}))}start(){this.#t(),this.#i()}setPosition(e={left:"100px",top:"100px",right:"auto",bottom:"auto"},t=!1){this.#e.root.style.left=e.left,this.#e.root.style.top=e.top,this.#e.root.style.right=e.right,this.#e.root.style.bottom=e.bottom;let i=getComputedStyle(this.#e.root).getPropertyValue("width"),s=getComputedStyle(this.#e.root).getPropertyValue("height");this.#e.root.style.width=i,this.#e.root.style.height=s,t&&this.#e.root.removeAttribute("draggable")}get body(){return this.#e.body}}class ConfigChoose{constructor(e){this.parent=e}chooses=[];#s="";#o=!1;create(e={One:!0,Two:!0,Three:!1},t){let i=createElement("div",{classList:"config-box_field"}),s=createElement("div",{classList:"config-box_choose"});i.appendChild(s),e.forEach(((e,i)=>{let o=createElement("span",{classList:"config-box_choose-item",textContent:i});s.appendChild(o),e&&(o.classList.add("active"),this.chooses.push(i)),o.addEventListener("click",(()=>{if(o.classList.toggle("active"),o.classList.contains("active"))this.chooses.includes(i)||this.chooses.push(i),this.#o=!0;else{let e=this.chooses.indexOf(i);this.chooses.splice(e,1),this.#o=!1}this.#s=i,t&&t(this.#s,this.#o)}))})),this.parent.appendChild(i)}}class ConfigSwitch{constructor(e){this.parent=e}#s="";create(e=["One","Two","Three"],t){let i=createElement("div",{classList:"config-box_field"}),s=createElement("div",{classList:"config-box_switch"});i.appendChild(s);let o=s.children;e.forEach((e=>{let i=createElement("span",{classList:"config-box_switch-item",textContent:e});s.appendChild(i),i.addEventListener("click",(()=>{var s;i.classList.contains("active")||i.classList.toggle("active"),s=i,o.forEach((e=>{e!=s&&e.classList.remove("active")})),this.#s=e,t&&t(this.#s)}))})),this.parent.appendChild(i)}}